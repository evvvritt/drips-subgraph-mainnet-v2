specVersion: 0.0.2
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: RadicleRegistry
    network: mumbai
    source:
      address: "0x4e31F3538c9BE4Cf1E0911D08290f5DDF4E57747"
      abi: RadicleRegistry
      startBlock: 23998110
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - FundingProject
      abis:
        - name: RadicleRegistry
          file: ./abis/RadicleRegistry.json
        - name: DripsToken
          file: ./abis/DripsToken.json
      eventHandlers:
        - event: NewProject(address,indexed address,indexed address,string)
          handler: handleNewProject
      file: ./src/mapping.ts
  - kind: ethereum/contract
    name: DaiDripsHub
    network: mumbai
    source:
      address: "0xC3f15dA8F5B77F514eE84B34007108623f7a828D"
      abi: DaiDripsHub
      startBlock: 23998110
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - DaiDripsHub
      abis:
        - name: DaiDripsHub
          file: ./abis/DaiDripsHub.json
      eventHandlers:
        - event: Collected(indexed address,uint128,uint128)
          handler: handleCollected
        - event: Dripping(indexed address,indexed address,uint128,uint64)
          handler: handleDripping
        - event: Dripping(indexed address,indexed uint256,indexed address,uint128,uint64)
          handler: handleDrippingWithAccount
        - event: SplitsUpdated(indexed address,(address,uint32)[])
          handler: handleSplitsUpdated
        - event: DripsUpdated(indexed address,uint128,(address,uint128)[])
          handler: handleDripsUpdated
        - event: DripsUpdated(indexed address,indexed uint256,uint128,(address,uint128)[])
          handler: handleDripsUpdatedWithAccount
      file: ./src/mapping.ts
templates:
  - kind: ethereum/contract
    name: DripsToken
    network: mumbai
    source:
      abi: DripsToken
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/funding.ts
      entities:
        - FundingProject
        - TokenType
        - Token
      abis:
        - name: DripsToken
          file: ./abis/DripsToken.json
      eventHandlers:
        - event: NewType(indexed uint128,uint64,uint128,bool,string)
          handler: handleNewType
        - event: NewStreamingToken(indexed uint256,indexed address,indexed uint128,uint128,uint128)
          handler: handleNewStreamingToken
        - event: NewToken(indexed uint256,indexed address,indexed uint128,uint128)
          handler: handleNewToken
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer
        - event: NewContractURI(string)
          handler: handleNewContractURI
